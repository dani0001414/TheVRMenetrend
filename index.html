<html>
  <link rel="manifest" href="data:application/manifest+json;base64, eyJuYW1lIjoiVGhlVlIgTW9iaWxCYXLDoXQgTWVuZXRyZW5kIiwic2hvcnRfbmFtZSI6IlRoZVZSIE1NIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJvcmllbnRhdGlvbiI6Im5hdHVyYWwiLCJzdGFydF91cmwiOiIuLi8iLCJiYWNrZ3JvdW5kX2NvbG9yIjoiI2Y3ZjdmNyIsInRoZW1lX2NvbG9yIjoiIzY0NDFBNCIsImljb25zIjpbeyJzcmMiOiJodHRwczovL2kuaW1ndXIuY29tL2xFb1ZranQucG5nIiwic2l6ZXMiOiIxNDR4MTQ0IiwidHlwZSI6ImltYWdlL3BuZyJ9XX0=">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <style type="text/css">    @font-face {    font-family: 'Covenant';    src: url(data:application/x-font-woff;charset=utf-8;base64,) format('woff');    font-weight: normal;    font-style: normal;  }  </style>
  <link rel="shortcut icon" type="image/png" href="https://i.imgur.com/9KP46NF.png">
  <title>Mobilbar√°t Menetrend</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>if(navigator.userAgent.match(/Android/i)){window.scrollTo(0,1);}</script>
  <meta name="theme-color" content="#6441A4">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <head>
	<script>
	function aktualisido() {  var d = new Date().getTime();  return d/1000;  }	function datesc(b) {  var b = b.substring(0, 16)+":00Z";  var utcDate= b;  var localDate = new Date(utcDate);    var ora = localDate.getHours();  var perc = localDate.getMinutes();  var honap = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];   var honapnap = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"];  var dat= localDate.getFullYear()+"."+honap[localDate.getMonth()]+"."+honapnap[localDate.getDate()];    return dat;}function calcTime(offset) {   var nd = new Date();  var utc = nd.getTime() + (nd.getTimezoneOffset() * 60000);  var d = new Date(utc + (3600000*offset));    var hour = d.getHours();  var min = d.getMinutes();  var aktido = hour*60+min;  var honap = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];   var honapnap = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59"];  var aktdatum = d.getFullYear()+"-"+honap[d.getMonth()]+"-"+honapnap[d.getDate()]+"T"+honapnap[hour]+":"+honapnap[min]+":00Z";  return aktdatum; }function timestamp(b) {  var b = b.substring(0, 16)+":00Z";  var utcDate= b;  var localDate = new Date(utcDate);  var localDate = localDate.getTime()/1000;  return localDate;}function TimeConvert(a) {    var a = a.substring(0, 16)+":00Z";  var utcDate= a;  var localDate = new Date(utcDate);    var ora = localDate.getHours();  var perc = localDate.getMinutes();  var masodperc = localDate.getSeconds();  var honap = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];   var honapnap = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59"];  var dat= localDate.getFullYear()+"."+honap[localDate.getMonth()]+"."+honapnap[localDate.getDate()];    var perc = honapnap[localDate.getMinutes()];  var ido = ora+":"+perc;  var kezdes = dat+"<br>"+ido;      return kezdes;}function http_post(url, callback) {var http = new XMLHttpRequest();var params = "[{\"variables\":{\"channelLogin\":\"wearethevr\",\"limit\":20,\"before\":null,\"after\":\""+mikortol+"\",\"sortOrder\":\"ASC\",\"following\":true},\"extensions\":{},\"operationName\":\"EventsPage_EventScheduleQuery\",\"query\":\"query EventsPage_EventScheduleQuery($channelLogin: String!, $limit: Int, $cursor: Cursor, $before: Time, $after: Time, $following: Boolean!, $sortOrder: SortOrder) {  user(login: $channelLogin) {    id    eventLeaves(first: $limit, after: $cursor, criteria: {endsBefore: $before, endsAfter: $after, sortOrder: $sortOrder}) {      pageInfo {        hasNextPage        __typename      }      edges {        cursor        node {          id          self @include(if: $following) {            isFollowing            __typename          }          ... on EventLeaf {            title            startAt            endAt            game {              id              displayName              __typename            }            channel {              id              login              displayName              __typename            }            imageURL(width: 320, height: 180)            __typename          }          __typename        }        __typename      }      __typename    }    __typename  }}\"}]";http.open('POST', url, true);http.setRequestHeader('Client-ID', 'vpyy1j86wtuetq8b6vbxlmubi0jxoe');http.setRequestHeader('Content-type', 'application/json');http.send(params);http.onreadystatechange = function() {    if(http.readyState == 4 && http.status == 200) {			callback(http.responseText);		}}}function http_post2(url, params, callback) {var http = new XMLHttpRequest();http.open('POST', url, true);http.setRequestHeader('Client-ID', 'vpyy1j86wtuetq8b6vbxlmubi0jxoe');http.setRequestHeader('Content-type', 'application/json');http.send(params);http.onreadystatechange = function() {    if(http.readyState == 4 && http.status == 200) {			callback(http.responseText);		}}}function http_get(url, callback) {var http = new XMLHttpRequest();http.open('GET', url, true);http.setRequestHeader('Client-ID', 'vpyy1j86wtuetq8b6vbxlmubi0jxoe');http.setRequestHeader('Content-type', 'application/json');http.send();    http.onreadystatechange = function() {		if(http.readyState == 4 && http.status == 200) {			callback(http.responseText);				}	}}var mikortol = calcTime(0);var events,live_adat,description_event,events_hossz;http_post("https://gql.twitch.tv/gql", events_array);function events_array(data) {   events = data;   http_get("https://api.twitch.tv/helix/streams?user_id=63493039", events_array2);  }function events_array2(data) {	live_adat = data;	live_adat = JSON.parse(live_adat);	events = JSON.parse(events);	events = events["0"].data.user.eventLeaves.edges;	events_hossz = events.length;		var jsonstring_d = "[";  	for(var i=0; i < events_hossz; i++)	{		jsonstring_d += "{\"variables\":{\"eventName\":\""+events[i].node.id+"\"},\"extensions\":{},\"operationName\":\"EventLandingPage_Event\",\"query\":\"query EventLandingPage_Event($eventName: ID!) {  event(id: $eventName) {    __typename    ... on EventLeaf {      ...EventLeafContent      premiere {        ...PremiereContent        __typename      }      __typename    }    ... on EventCollection {      ...EventCollectionContent      __typename    }  }}fragment PremiereContent on Premiere {  status  pastPremiere {    description    __typename  }  __typename}fragment EventLeafContent on EventLeaf {  description  __typename}fragment EventCollectionContent on EventCollection {  description  __typename}\"}";		if(i < events_hossz-1) { jsonstring_d += ","; }	}	jsonstring_d += "]";		http_post2("https://gql.twitch.tv/gql", jsonstring_d, events_array3); }function events_array3(data) {description_events = data;html_start();}function html_start() {	var cover_live=null,cover_200;	var cim_live=null;	var live_allapot=null;	var game_id_s =null;	if(live_adat.data.length > 0) {    var cover_live = live_adat.data['0'].thumbnail_url;    var cim_live = live_adat.data['0'].title;    var live_allapot = live_adat.data['0'].type;    cover_live = cover_live.replace("{width}", "640");    cover_live = cover_live.replace("{height}", "360");    game_id_s = live_adat.data['0'].game_id;  		var live_start = TimeConvert(live_adat.data['0'].started_at).split("<br>");	var live_dat = datesc(live_adat.data['0'].started_at);    var livetimestamp = timestamp(live_adat.data['0'].started_at);  }     		var idomost = aktualisido();	var stream_veg,stream_start,stream_extraveg,streamextrastart;	for (var i = 0; i < events_hossz; i++) {		var cim_id = i+"_cim";		var cover_id = i+"_cover";		var time_id = i+"_time";		var br_id = i+"_br";		stream_veg = timestamp(events[i].node.endAt);		stream_start = timestamp(events[i].node.startAt);		stream_extraveg = stream_veg+3000;		streamextrastart = stream_start-3000;						var cover = events[i].node.imageURL;		cover = cover.replace("320", "320");		cover = cover.replace("180", "180");				var start_time = TimeConvert(events[i].node.startAt).split("<br>");		var end_time = TimeConvert(events[i].node.endAt).split("<br>");				document.getElementById(i).style.display='block';		document.getElementById(br_id).style.display='block';		document.getElementById(cim_id).innerHTML="<p><b>"+events[i].node.title+"</b></p>";		document.getElementById(cover_id).innerHTML= "<img src=\""+cover+"\" class=\"aspect__fill\" width=\"320\">";		document.getElementById(time_id).innerHTML=start_time[0]+"<br>"+start_time[1]+"-"+end_time[1];				 if((live_allapot == "live")|((livetimestamp < stream_extraveg)&(livetimestamp > streamextrastart))){		 document.getElementById("0").style.backgroundColor="#4b367c";		 document.getElementById("0_cim").innerHTML="<a target=\"_blank\" href=\"https://www.twitch.tv/wearethevr\"><img src=\"https://i.imgur.com/o1kyCnf.png\"></a><br><b>"+cim_live+"</b>";		 document.getElementById("0_cover").innerHTML= "<img src=\""+cover_live+"\" class=\"aspect__fill\" width=\"320\">";		 }	}  }
</script>


  </head>
  <body link="grey" vlink="grey" style="font-family:'Roboto', sans-serif; background: #0e0c13; height:100%; color: #c3c1c8">
  <center>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="0"><div id="0_cim">c√≠m</div><div id="0_cover"></div><div id="0_time"></div><p></p></div><div id="0_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="1"><div id="1_cim">c√≠m</div><div id="1_cover"></div><div id="1_time"></div><p></p></div><div id="1_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="2"><div id="2_cim">c√≠m</div><div id="2_cover"></div><div id="2_time"></div><p></p></div><div id="2_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="3"><div id="3_cim">c√≠m</div><div id="3_cover"></div><div id="3_time"></div><p></p></div><div id="3_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="4"><div id="4_cim">c√≠m</div><div id="4_cover"></div><div id="4_time"></div><p></p></div><div id="4_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="5"><div id="5_cim">c√≠m</div><div id="5_cover"></div><div id="5_time"></div><p></p></div><div id="5_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="6"><div id="6_cim">c√≠m</div><div id="6_cover"></div><div id="6_time"></div><p></p></div><div id="6_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="7"><div id="7_cim">c√≠m</div><div id="7_cover"></div><div id="7_time"></div><p></p></div><div id="7_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="8"><div id="8_cim">c√≠m</div><div id="8_cover"></div><div id="8_time"></div><p></p></div><div id="8_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="9"><div id="9_cim">c√≠m</div><div id="9_cover"></div><div id="9_time"></div><p></p></div><div id="9_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="10"><div id="10_cim">c√≠m</div><div id="10_cover"></div><div id="10_time"></div><p></p></div><div id="10_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="11"><div id="11_cim">c√≠m</div><div id="11_cover"></div><div id="11_time"></div><p></p></div><div id="11_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="12"><div id="12_cim">c√≠m</div><div id="12_cover"></div><div id="12_time"></div><p></p></div><div id="12_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="13"><div id="13_cim">c√≠m</div><div id="13_cover"></div><div id="13_time"></div><p></p></div><div id="13_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="14"><div id="14_cim">c√≠m</div><div id="14_cover"></div><div id="14_time"></div><p></p></div><div id="14_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="15"><div id="15_cim">c√≠m</div><div id="15_cover"></div><div id="15_time"></div><p></p></div><div id="15_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="16"><div id="16_cim">c√≠m</div><div id="16_cover"></div><div id="16_time"></div><p></p></div><div id="16_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="17"><div id="17_cim">c√≠m</div><div id="17_cover"></div><div id="17_time"></div><p></p></div><div id="17_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="18"><div id="18_cim">c√≠m</div><div id="18_cover"></div><div id="18_time"></div><p></p></div><div id="18_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="19"><div id="19_cim">c√≠m</div><div id="19_cover"></div><div id="19_time"></div><p></p></div><div id="19_br" style="display: none;"><br></div>
<div style="width:320px; display: none; background-color:#17141f; border:1px solid #2e2b35" id="20"><div id="20_cim">c√≠m</div><div id="20_cover"></div><div id="20_time"></div><p></p></div><div id="20_br" style="display: none;"><br></div>
<div style="color: grey"><font size="0.2">Creator:<a target="_blank" href="https://forum.thevr.hu/u/dani0001414/">dani0001414 Ninjon</a><br><a href="https://dani0001414.github.io/TheVRMobilMenetrend/changelog.html">[Change-Log]</a></font></div>
  </center>
  </body>
  
</html>